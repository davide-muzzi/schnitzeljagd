<ion-content class="permissions-page">
  <div class="page">

    <!-- Back button (icon) -->
    <button class="back-btn" (click)="abort()" [routerLink]="['/home']">
      <img src="../assets/icons/arrow_left.svg" alt="Back" />
    </button>

    <!-- Header -->
    <div class="header">
      <div class="header-icon">ğŸ”</div>

      <h1>Berechtigungen</h1>
      <p>
        Hey Dave! FÃ¼r die Jagd benÃ¶tigen wir:
      </p>
    </div>

    <!-- Standort -->
    <!-- add class "granted" later -->
    <div class="permission-card">
      <div class="perm-top">
        <div class="perm-icon">
          <img src="../assets/icons/pin.svg" alt="Location" />
        </div>
        <h2>Standortzugriff</h2>
      </div>

      <p class="perm-desc">
        Wir benÃ¶tigen deinen Standort, um dich zu den Challenge-Orten
        zu navigieren und deine zurÃ¼ckgelegte Distanz zu messen.
      </p>

      <button class="perm-action location" (click)="locationperm()">
        Standort erlauben
      </button>

      <div class="perm-granted" *ngIf="locationGranted">
        <img src="../assets/icons/checkmark_green.svg" alt="Granted"/>
        <span>Berechtigung erteilt</span>
      </div>
    </div>

    <!-- Kamera -->
    <!-- add class "granted" later -->
    <div class="permission-card">
      <div class="perm-top">
        <div class="perm-icon">
          <img src="../assets/icons/camera.svg" alt="Camera" />
        </div>
        <h2>Kamerazugriff</h2>
      </div>

      <p class="perm-desc">
        Die Kamera wird benÃ¶tigt, um QR-Codes zu scannen und bestimmte
        Challenges zu erfÃ¼llen.
      </p>

      <button class="perm-action camera" (click)="cameraperm()">
        Kamera erlauben
      </button>

      <div class="perm-granted" *ngIf="cameraGranted">
        <img src="../assets/icons/checkmark_green.svg" alt="Granted" />
        <span>Berechtigung erteilt</span>
      </div>
    </div>

    <!-- Continue -->
    <!-- add class "active" later -->
<button class="continue-btn" 
        (click)="startgame()" 
        [disabled]="!locationGranted || !cameraGranted"
        [class.active]="locationGranted && cameraGranted">
  Jagd beginnen! ğŸ¯
</button>

  </div>
</ion-content>
